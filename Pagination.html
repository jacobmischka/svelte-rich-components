<nav class="{class}" aria-label="Page navigation">
	<ul class="pagination">
		<li class="page-item {currentPage <= 0 ? 'disabled' : ''}">
			<a class="page-link" href="#" aria-label="Previous page"
					on:click="handleGoToPage(event, currentPage - 1)">
				<FeatherIcon icon="arrow-left" />
			</a>
		</li>
		{#each pages as _, pageNum}
			<li class="page-item {currentPage === pageNum ? 'active' : ''}">
				<a class="page-link" href="#"
						on:click="handleGoToPage(event, pageNum)">
					{pageNum + 1}
				</a>
			</li>
		{/each}
		<li class="page-item {currentPage >= pages.length - 1 ? 'disabled' : ''}">
			<a class="page-link" href="#" aria-label="Next page"
					on:click="handleGoToPage(event, currentPage + 1)">
				<FeatherIcon icon="arrow-right" />
			</a>
		</li>
	</ul>
</nav>

<script>
	import FeatherIcon from 'svelte-feather-icon';

	export default {
		methods: {
			handleGoToPage(event, pageNum) {
				event.preventDefault();

				const { currentPage, pages } = this.get();

				if (
					currentPage === pageNum
					|| pageNum < 0
					|| pageNum >= pages.length
				)
					return;

				this.fire('change', pageNum);
			}
		},
		components: {
			FeatherIcon
		}
	};
</script>
